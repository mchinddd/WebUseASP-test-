@model IEnumerable<WebUseASP_test_.Models.Student>

@{
    ViewData["Title"] = "Quản Lý Học Sinh";
    Layout = "_Layout";
}

<div class="container">
    <!-- Sidebar -->
    <partial name="_Sidebar" />

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="header">
            <div class="page-title">
                <div class="page-icon">
                    <i class="fas fa-users"></i> <!-- Đổi icon cho trang học sinh -->
                </div>
                <span id="pageTitle">Quản lý học sinh</span>
            </div>
            <div class="header-right">
                <button title="none" class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="user-avatar">
                    <img src="https://ui-avatars.com/api/?name=Admin+User&background=4361ee&color=fff"
                         alt="Avatar"
                         class="avatar-img" />
                    <div class="avatar-dropdown">
                        <!-- Giữ nguyên dropdown menu -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Page Content -->
        <div class="page-content">
            <!-- Students Page -->
            <div id="studentsPage" class="page active-page">
                <!-- Nội dung quản lý học sinh của bạn ở đây -->
                <div class="page-header">
                    <h1 class="section-title">Quản lý học sinh</h1>
                    <button class="add-btn">
                        <i class="fas fa-plus"></i> Thêm học sinh
                    </button>
                </div>

                <div class="data-table">
                    <div class="table-header">
                        <div class="table-title">Danh sách học sinh</div>
                        <div class="table-actions">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" placeholder="Tìm học sinh..." />
                            </div>
                            <button class="filter-btn">
                                <i class="fas fa-filter"></i> Lọc
                            </button>
                        </div>
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Họ tên</th>
                                <th>Lớp</th>
                                <th>Ngày sinh</th>
                                <th>Giới tính</th>
                                <th>Điểm TB</th>
                                <th>Trạng thái</th>
                                <th>Thao tác</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var student in Model)
                            {
                                <tr>
                                    <td>@student.StudentCode</td>
                                    <td>
                                        <div class="student-info">
                                            <img src="https://ui-avatars.com/api/?name=@Uri.EscapeDataString(student.User.FullName)&background=4361ee&color=fff"
                                                 alt="Avatar"
                                                 class="student-avatar" />
                                            <span>@student.User.FullName</span>
                                        </div>
                                    </td>
                                    <td>@(student.Class != null ? student.Class.ClassName : "Chưa xếp lớp")</td>
                                    <td>@student.DateOfBirth.ToString("dd/MM/yyyy")</td>
                                    <td>@student.Gender</td>
                                    <td>
                                        <!-- Tạm để trống điểm TB vì chưa có dữ liệu tính toán -->
                                        N/A
                                    </td>
                                    <td>
                                        <span class="status @(student.User.IsActive ? "active" : "inactive")">
                                            @(student.User.IsActive ? "Đang học" : "Ngừng học")
                                        </span>
                                    </td>
                                    <td>
                                        <button title="Sửa" class="action-btn">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button title="Xóa" class="action-btn danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            }
                        </tbody>

                    </table>

                    <div class="table-footer">
                        <div class="table-info">Hiển thị 1-10 của 1,254 học sinh</div>
                        <div class="pagination">
                            <button title="none" class="page-btn">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="page-btn active">1</button>
                            <button class="page-btn">2</button>
                            <button class="page-btn">3</button>
                            <button title="none" class="page-btn">
                                <i class="fas fa-ellipsis-h"></i>
                            </button>
                            <button class="page-btn">10</button>
                            <button title="none" class="page-btn">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="footer">© 2025 Hệ thống Quản lý Học Sinh - Phiên bản 1.0</div>